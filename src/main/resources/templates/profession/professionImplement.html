<!DOCTYPE html>
<!-- saved from url=(0052)http://getbootstrap.com/docs/4.0/examples/dashboard/ -->
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:v-on="http://www.w3.org/1999/xhtml"
	  xmlns:v-bind="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>中国知网大数据融合应用平台</title>

	<link href="asserts/css/bootstrap.min.css" th:href="@{/webjars/bootstrap/4.0.0/css/bootstrap.css}" rel="stylesheet">
	<link href="asserts/css/dashboard.css" th:href="@{/asserts/css/dashboard.css}" rel="stylesheet">
	<link href="asserts/element2.10.1/index.css" th:href="@{/asserts/element2.10.1/index.css}" rel="stylesheet">
	<link href="asserts/css/myCSS.css" th:href="@{/asserts/css/myCSS.css}" rel="stylesheet">
	<link href="asserts/css/myManager.css" th:href="@{/asserts/css/myManager.css}" rel="stylesheet">
	<link href="asserts/css/myCutWord.css" th:href="@{/asserts/css/myCutWord.css}" rel="stylesheet">
	<link href="asserts/css/axure_rp_page.css" th:href="@{/asserts/css/axure_rp_page.css}" rel="stylesheet">
	<link href="asserts/css/default.css" th:href="@{/asserts/css/default.css}" rel="stylesheet">
	<link href="asserts/css/reset.css" th:href="@{/asserts/css/reset.css}" rel="stylesheet">
</head>

<body>
<div id="flw">

	<div id="appheader">
		<div class="top">
			<a  th:href="@{/redirectToMain}">
				<h1  style="color: #ffffff; margin-left: 10px; margin-top: 20px" class="top-t" >中国知网大数据融合应用平台</h1>
			</a>
		</div>
	</div>



	<div id="app">
		<div class="dsource-wrap" style="margin-top: 5px">
			<!-- 左侧  -->
			<el-scrollbar class="dictionary-l">
				<ul class="manager-nav dictionary-nav">
					<li class="m-a">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-hh2"></use>
						</svg>
						<ul class="manager-sec" v-for="project, key in projects" :key="key">
							<li @click="showProjectById(project.id)"><a :class="project.deltag" >{{project.departmentName}}</a></li>
						</ul>
					</li>
				</ul>
			</el-scrollbar>

			<el-scrollbar class="dsource-r">

				<div hidden="true" v-model="projectSummaryId"></div>
				<div hidden="true" v-model="projectId"></div>

				<nav class="navbar navbar-light bg-light">

					<el-button type="primary">主要按钮</el-button>

					<el-button type="primary" plain>主要按钮</el-button>

					<el-button type="primary"><a :href="'/crud/project/'">任务分配</a></el-button>
					<el-button type="primary"><a th:href="@{/upperProfessionDatas/}">上序资料</a></el-button>
					<el-button type="primary"><a  href="project" th:href="@{/underProfessionDatas/}">提下序</a></el-button>
					<el-button type="primary"><a  href="project" :href="'/crud/project/'">专业项目文件</a></el-button>
					<el-button type="primary"><a  href="project" th:href="@{/notices}">通知</a></el-button>

				</nav>
				<div class="ds-table-wrap" >


					<!--<img  th:src="@{/asserts/img/1.PNG}">-->


				</div>



			</el-scrollbar>

			<!-- 任务分配modal -->
			<el-dialog title="任务分配" :visible.sync="dialogAddTaskAssignmentVisible" width="60%">
				<el-table style="width: 100%;" :data="taskAssignmentTable" class="x-table table-td0">
					<el-table-column type="selection" width="55"></el-table-column>
					<!--<el-table-column label="序号" width="60" type="index">-->
					<!--<template slot-scope="scope"><span>{{ scope.row.serialNumber }}</span></template>-->
					<!--</el-table-column>-->
					<el-table-column label="任务">
						<template slot-scope="scope">
							<template slot-scope="scope"><span>{{ scope.row.taskName }}</span></template>
						</template>
					</el-table-column>
					<el-table-column label="任务级别">
						<template slot-scope="scope"><span>{{ scope.row.taskLevel }}</span></template>
					</el-table-column>
					<el-table-column label="设计">
						<template slot-scope="scope"><span>{{ scope.row.designer }}</span></template>
					</el-table-column>
					<el-table-column  label="复核">
						<template slot-scope="scope"><span>{{ scope.row.reviewer }}</span></template>
					</el-table-column>
					<el-table-column  label="审核">
						<template slot-scope="scope"><span>{{ scope.row.inspector }}</span></template>
					</el-table-column>
					<el-table-column  label="审定">
						<template slot-scope="scope"><span>{{ scope.row.validationer }}</span></template>
					</el-table-column>
					<el-table-column  label="开始时间">
						<template slot-scope="scope"><span>{{ scope.row.startTime }}</span></template>
					</el-table-column>
					<el-table-column  label="截止时间">
						<template slot-scope="scope"><span>{{ scope.row.stopTime }}</span></template>
					</el-table-column>
				</el-table>
				<el-pagination class="txtCenter"
							   @size-change="handleSizeChange"
							   @current-change="handleCurrentChange"
							   :current-page.sync="currentPage"
							   :page-sizes="[10,20,30,50]"
							   :page-size="100"
							   layout=" sizes, prev, pager, next"
							   :total="1000">
				</el-pagination>
			</el-dialog>


		</div>
	</div>

	<script type="text/javascript" src="asserts/js/jquery-3.2.1.slim.min.js" th:src="@{/webjars/jquery/3.3.1/jquery.js}"></script>
	<script type="text/javascript" src="asserts/js/popper.min.js" th:src="@{/webjars/popper.js/1.11.1/dist/popper.js}"></script>
	<script type="text/javascript" src="asserts/js/bootstrap.min.js" th:src="@{/webjars/bootstrap/4.0.0/js/bootstrap.js}"></script>

	<script type="text/javascript" src="asserts/js/feather.min.js" th:src="@{/asserts/js/feather.min.js}"></script>
	<script type="text/javascript" src="asserts/js/vue.js" th:src="@{/asserts/js/vue.js}"></script>
	<script type="text/javascript" src="asserts/js/iconfont.js" th:src="@{/asserts/js/iconfont.js}"></script>
	<script type="text/javascript" src="asserts/element2.10.1/index.js" th:src="@{/asserts/element2.10.1/index.js}"></script>


	<script>
		feather.replace()
	</script>

	<script th:inline="javascript" type="text/javascript">

		var projectList =[[ ${projectList}]]
		console.log(projectList)

		var app = new Vue({
			el: '#app',
			data: {
				dialogAddTaskAssignmentVisible: false,
				currentPage: 1,
				tableData: null,
				searchKey: null,
				projectSummaryId: null,
				projectId: null,
				project: {},
				projects:{},
				isActive: true,
				projectClass1: "m-a cur",
				taskAssignmentTable: {},
			},
			methods: {
				handleSizeChange(val) {
					console.log(`每页 ${val} 条`);
				},
				handleCurrentChange(val) {
					console.log(`当前页: ${val}`);
				},
				showProjectById: function(id){
					// console.log("应该显示 " + id)
					var ajaxData = {}
					ajaxData.projectId = id
					//更改li颜色
					var myProjects = app.projects
					for(var i = 0; i < myProjects.length; i++){
						if(myProjects[i].id == id){
							myProjects[i].deltag = 'm-a cur'
						}else{
							myProjects[i].deltag = ''
						}
					}
					app.projects = myProjects



				},
			}

		})

		app.projects = projectList
		app.projectSummaryId = projectList[0].projectSummaryId



	</script>
</div>
</body>
</html>